[{
  "v": 11,
  "id": "cmfs0001a001ms001folder01",
  "name": "media-file-explorer-share",
  "folders": [],
  "requests": [
    {
      "v": "17",
      "name": "Share text (text_or_url)",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});\n\npw.test(\"Response is OK or numeric ID\", () => {\n  const body = pw.response.body.trim();\n  pw.expect(body === \"OK\" || /^\\d+$/.test(body)).toBe(true);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "application/json",
        "body": "{\n    \"text_or_url\": \"Hello from Media File Explorer!\\n\\nThis is a shared text payload sent via the API Integration feature.\"\n}"
      },
      "requestVariables": [],
      "responses": {},
      "description": "Share a text payload via JSON. The text_or_url field is detected and formatted as Markdown for the email. When db_enabled is true, returns the new entry ID instead of OK."
    },
    {
      "v": "17",
      "name": "Share Markdown text",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "application/json",
        "body": "{\n    \"text_or_url\": \"# Bug Report\\n\\n## Steps to reproduce\\n\\n1. Open the app\\n2. Tap **Share**\\n3. Select a file larger than 50 MB\\n\\n## Expected\\n\\nFile is uploaded.\\n\\n## Actual\\n\\n`Error 413` is returned.\\n\\n---\\n*Device: Pixel 8, Android 15*\"\n}"
      },
      "requestVariables": [],
      "responses": {},
      "description": "Share Markdown-formatted text. The handler renders it as HTML in the email notification."
    },
    {
      "v": "17",
      "name": "Share URL",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "application/json",
        "body": "{\n    \"text_or_url\": \"https://play.google.com/store/apps/details?id=de.xida.folder_gallery\"\n}"
      },
      "requestVariables": [],
      "responses": {},
      "description": "Share a URL via the text_or_url field."
    },
    {
      "v": "17",
      "name": "Share custom fields (no text_or_url)",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "application/json",
        "body": "{\n    \"device\": \"Pixel 8 Pro\",\n    \"android_version\": \"15\",\n    \"app_version\": \"4.2.1\",\n    \"event\": \"file_shared\",\n    \"path\": \"/storage/emulated/0/DCIM/Camera/IMG_20260221.jpg\"\n}"
      },
      "requestVariables": [],
      "responses": {},
      "description": "Send arbitrary key-value fields without text_or_url. Rendered as a table in the email."
    },
    {
      "v": "17",
      "name": "Share file upload",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "multipart/form-data",
        "body": [
          {
            "key": "file",
            "value": "",
            "isFile": true,
            "active": true
          }
        ]
      },
      "requestVariables": [],
      "responses": {},
      "description": "Upload a file via multipart form-data. Select a file in Hoppscotch before sending. The file is emailed as attachment and/or saved to storage."
    },
    {
      "v": "17",
      "name": "Share plain text",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "text/plain",
        "body": "This is a plain-text payload.\nIt will be sent as a plain-text email with request metadata."
      },
      "requestVariables": [],
      "responses": {},
      "description": "Send a plain-text body (non-JSON). Falls back to plain-text email with metadata."
    },
    {
      "v": "17",
      "name": "Share text with Basic Auth",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});\n\npw.test(\"Response is OK or numeric ID\", () => {\n  const body = pw.response.body.trim();\n  pw.expect(body === \"OK\" || /^\\d+$/.test(body)).toBe(true);\n});",
      "auth": {
        "authType": "basic",
        "authActive": true,
        "username": "<<authUsername>>",
        "password": "<<authPassword>>"
      },
      "body": {
        "contentType": "application/json",
        "body": "{\n    \"text_or_url\": \"Authenticated payload from Media File Explorer.\"\n}"
      },
      "requestVariables": [],
      "responses": {},
      "description": "Share text with Basic Auth enabled. Requires auth_enabled=true in config/app.php. When db_enabled is true, returns the new entry ID instead of OK."
    },
    {
      "v": "17",
      "name": "Append text to entry",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});\n\npw.test(\"Response is parent entry ID\", () => {\n  const body = pw.response.body.trim();\n  pw.expect(/^\\d+$/.test(body)).toBe(true);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "application/json",
        "body": "{\n    \"_id\": 1,\n    \"text_or_url\": \"This is an additional note appended to entry 1.\"\n}"
      },
      "requestVariables": [],
      "responses": {},
      "description": "Append text to an existing entry as an attachment. Send _id in the JSON body along with the text payload. Returns the parent entry ID. Requires db_enabled=true."
    },
    {
      "v": "17",
      "name": "Append file to entry",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});\n\npw.test(\"Response is parent entry ID\", () => {\n  const body = pw.response.body.trim();\n  pw.expect(/^\\d+$/.test(body)).toBe(true);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "multipart/form-data",
        "body": [
          {
            "key": "file",
            "value": "",
            "isFile": true,
            "active": true
          },
          {
            "key": "_id",
            "value": "1",
            "isFile": false,
            "active": true
          },
          {
            "key": "description",
            "value": "Screenshot of the bug",
            "isFile": false,
            "active": true
          }
        ]
      },
      "requestVariables": [],
      "responses": {},
      "description": "Append a file to an existing entry as an attachment. Send _id as a form field along with the file. Extra fields (like description) are stored as JSON body. Returns the parent entry ID. Requires db_enabled=true."
    },
    {
      "v": "17",
      "name": "Share text (no email)",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "application/json",
        "body": "{\n    \"text_or_url\": \"This text is saved but no email is sent.\",\n    \"_email\": false\n}"
      },
      "requestVariables": [],
      "responses": {},
      "description": "Share a text payload with email suppressed. The _email: false field prevents the email action even when email_enabled is true in config."
    },
    {
      "v": "17",
      "name": "Share file (no email)",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "multipart/form-data",
        "body": [
          {
            "key": "file",
            "value": "",
            "isFile": true,
            "active": true
          },
          {
            "key": "_email",
            "value": "false",
            "isFile": false,
            "active": true
          }
        ]
      },
      "requestVariables": [],
      "responses": {},
      "description": "Upload a file with email suppressed. The _email=false form field prevents the email action even when email_enabled is true in config."
    },
    {
      "v": "17",
      "name": "API: Get entry by ID",
      "method": "GET",
      "endpoint": "<<baseURL>>api.php/entries/1",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});\n\npw.test(\"Response is JSON with id and attachments\", () => {\n  const body = JSON.parse(pw.response.body);\n  pw.expect(body.id).toBeDefined();\n  pw.expect(typeof body.id).toBe(\"number\");\n  pw.expect(Array.isArray(body.attachments)).toBe(true);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": null,
        "body": null
      },
      "requestVariables": [],
      "responses": {},
      "description": "Fetch a database entry by ID with its attachments via the read-only API. Returns the entry data plus an attachments array with file_url for file-type attachments. Requires api_enabled=true and db_enabled=true in config/app.php. Clean URL alternative: <<baseURL>>api/entries/1"
    },
    {
      "v": "17",
      "name": "API: Get entry by ID (POST body)",
      "method": "POST",
      "endpoint": "<<baseURL>>api.php/entries",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});\n\npw.test(\"Response is JSON with id and attachments\", () => {\n  const body = JSON.parse(pw.response.body);\n  pw.expect(body.id).toBeDefined();\n  pw.expect(typeof body.id).toBe(\"number\");\n  pw.expect(Array.isArray(body.attachments)).toBe(true);\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": "application/json",
        "body": "{\n    \"id\": 1\n}"
      },
      "requestVariables": [],
      "responses": {},
      "description": "Fetch a database entry by sending the ID in a JSON POST body. Alternative to GET /entries/{id}. Requires api_enabled=true and db_enabled=true. Clean URL alternative: <<baseURL>>api/entries"
    },
    {
      "v": "17",
      "name": "API: Get entry by ID (with auth)",
      "method": "GET",
      "endpoint": "<<baseURL>>api.php/entries/1",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});\n\npw.test(\"Response is JSON with id field\", () => {\n  const body = JSON.parse(pw.response.body);\n  pw.expect(body.id).toBeDefined();\n  pw.expect(typeof body.id).toBe(\"number\");\n});",
      "auth": {
        "authType": "basic",
        "authActive": true,
        "username": "<<authUsername>>",
        "password": "<<authPassword>>"
      },
      "body": {
        "contentType": null,
        "body": null
      },
      "requestVariables": [],
      "responses": {},
      "description": "Fetch a database entry by ID with Basic Auth. Requires api_enabled=true, db_enabled=true, and api_auth_enabled=true in config/app.php. Clean URL alternative: <<baseURL>>api/entries/1"
    },
    {
      "v": "17",
      "name": "API: Download attachment file",
      "method": "GET",
      "endpoint": "<<baseURL>>api.php/files/1",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 200\", () => {\n  pw.expect(pw.response.status).toBe(200);\n});\n\npw.test(\"Response has Content-Disposition header\", () => {\n  const cd = pw.response.headers[\"content-disposition\"] || pw.response.headers[\"Content-Disposition\"];\n  pw.expect(cd).toBeDefined();\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": null,
        "body": null
      },
      "requestVariables": [],
      "responses": {},
      "description": "Download a file attachment by its attachment ID. Returns the file with correct Content-Type and Content-Disposition headers. Requires api_enabled=true, db_enabled=true, and storage_enabled=true. Clean URL alternative: <<baseURL>>api/files/1"
    },
    {
      "v": "17",
      "name": "Error: empty body",
      "method": "POST",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 400\", () => {\n  pw.expect(pw.response.status).toBe(400);\n});\n\npw.test(\"Response says empty body\", () => {\n  pw.expect(pw.response.body).toContain(\"Empty body\");\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": null,
        "body": null
      },
      "requestVariables": [],
      "responses": {},
      "description": "Send an empty POST body. Should return HTTP 400 'Empty body'."
    },
    {
      "v": "17",
      "name": "Error: GET method not allowed",
      "method": "GET",
      "endpoint": "<<baseURL>>share.php",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "pw.test(\"Status code is 405\", () => {\n  pw.expect(pw.response.status).toBe(405);\n});\n\npw.test(\"Response says method not allowed\", () => {\n  pw.expect(pw.response.body).toContain(\"Method Not Allowed\");\n});",
      "auth": {
        "authType": "none",
        "authActive": true
      },
      "body": {
        "contentType": null,
        "body": null
      },
      "requestVariables": [],
      "responses": {},
      "description": "GET request to share.php. Should return HTTP 405 'Method Not Allowed'."
    }
  ],
  "auth": {
    "authType": "inherit",
    "authActive": true
  },
  "headers": [],
  "variables": [],
  "description": "Media File Explorer Share â€” webhook endpoint examples for text, file, and error scenarios. When db_enabled is true, successful requests return the new entry ID instead of OK."
}]
